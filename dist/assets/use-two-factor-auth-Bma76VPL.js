import{r,c as X,j as L}from"./app-XgFoaY_8.js";import{a as je,c as te}from"./app-logo-icon-BOPC6mkE.js";import{q as Oe,b as De,f as Ie}from"./index-DmMlQonR.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ae=je("Minus",Ne);var Fe=Object.defineProperty,We=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,be=(t,n,e)=>n in t?Fe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,$e=(t,n)=>{for(var e in n||(n={}))ye.call(n,e)&&be(t,e,n[e]);if(ne)for(var e of ne(n))Se.call(n,e)&&be(t,e,n[e]);return t},Le=(t,n)=>We(t,Be(n)),He=(t,n)=>{var e={};for(var l in t)ye.call(t,l)&&n.indexOf(l)<0&&(e[l]=t[l]);if(t!=null&&ne)for(var l of ne(t))n.indexOf(l)<0&&Se.call(t,l)&&(e[l]=t[l]);return e};function Ge(t){let n=setTimeout(t,0),e=setTimeout(t,10),l=setTimeout(t,50);return[n,e,l]}function Ke(t){let n=r.useRef();return r.useEffect(()=>{n.current=t}),n.current}var qe=18,we=40,ze=`${we}px`,Qe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Ve({containerRef:t,inputRef:n,pushPasswordManagerStrategy:e,isFocused:l}){let[i,a]=r.useState(!1),[d,f]=r.useState(!1),[h,_]=r.useState(!1),w=r.useMemo(()=>e==="none"?!1:(e==="increase-width"||e==="experimental-no-flickering")&&i&&d,[i,d,e]),g=r.useCallback(()=>{let p=t.current,b=n.current;if(!p||!b||h||e==="none")return;let y=p,x=y.getBoundingClientRect().left+y.offsetWidth,M=y.getBoundingClientRect().top+y.offsetHeight/2,c=x-qe,R=M;document.querySelectorAll(Qe).length===0&&document.elementFromPoint(c,R)===p||(a(!0),_(!0))},[t,n,h,e]);return r.useEffect(()=>{let p=t.current;if(!p||e==="none")return;function b(){let x=window.innerWidth-p.getBoundingClientRect().right;f(x>=we)}b();let y=setInterval(b,1e3);return()=>{clearInterval(y)}},[t,e]),r.useEffect(()=>{let p=l||document.activeElement===n.current;if(e==="none"||!p)return;let b=setTimeout(g,0),y=setTimeout(g,2e3),x=setTimeout(g,5e3),M=setTimeout(()=>{_(!0)},6e3);return()=>{clearTimeout(b),clearTimeout(y),clearTimeout(x),clearTimeout(M)}},[n,l,e,g]),{hasPWMBadge:i,willPushPWMBadge:w,PWM_BADGE_SPACE_WIDTH:ze}}var Ee=r.createContext({}),xe=r.forwardRef((t,n)=>{var e=t,{value:l,onChange:i,maxLength:a,textAlign:d="left",pattern:f,placeholder:h,inputMode:_="numeric",onComplete:w,pushPasswordManagerStrategy:g="increase-width",pasteTransformer:p,containerClassName:b,noScriptCSSFallback:y=Je,render:x,children:M}=e,c=He(e,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),R,Z,I,U,N;let[re,H]=r.useState(typeof c.defaultValue=="string"?c.defaultValue:""),u=l??re,A=Ke(u),q=r.useCallback(o=>{i?.(o),H(o)},[i]),T=r.useMemo(()=>f?typeof f=="string"?new RegExp(f):f:null,[f]),v=r.useRef(null),le=r.useRef(null),ae=r.useRef({value:u,onChange:q,isIOS:typeof window<"u"&&((Z=(R=window?.CSS)==null?void 0:R.supports)==null?void 0:Z.call(R,"-webkit-touch-callout","none"))}),Y=r.useRef({prev:[(I=v.current)==null?void 0:I.selectionStart,(U=v.current)==null?void 0:U.selectionEnd,(N=v.current)==null?void 0:N.selectionDirection]});r.useImperativeHandle(n,()=>v.current,[]),r.useEffect(()=>{let o=v.current,s=le.current;if(!o||!s)return;ae.current.value!==o.value&&ae.current.onChange(o.value),Y.current.prev=[o.selectionStart,o.selectionEnd,o.selectionDirection];function S(){if(document.activeElement!==o){Q(null),V(null);return}let m=o.selectionStart,E=o.selectionEnd,ee=o.selectionDirection,k=o.maxLength,W=o.value,j=Y.current.prev,O=-1,D=-1,B;if(W.length!==0&&m!==null&&E!==null){let ke=m===E,Re=m===W.length&&W.length<k;if(ke&&!Re){let $=m;if($===0)O=0,D=1,B="forward";else if($===k)O=$-1,D=$,B="backward";else if(k>1&&W.length>1){let ie=0;if(j[0]!==null&&j[1]!==null){B=$<j[1]?"backward":"forward";let Te=j[0]===j[1]&&j[0]<k;B==="backward"&&!Te&&(ie=-1)}O=ie+$,D=ie+$+1}}O!==-1&&D!==-1&&O!==D&&v.current.setSelectionRange(O,D,B)}let ve=O!==-1?O:m,ge=D!==-1?D:E,Me=B??ee;Q(ve),V(ge),Y.current.prev=[ve,ge,Me]}if(document.addEventListener("selectionchange",S,{capture:!0}),S(),document.activeElement===o&&oe(!0),!document.getElementById("input-otp-style")){let m=document.createElement("style");if(m.id="input-otp-style",document.head.appendChild(m),m.sheet){let E="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";J(m.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),J(m.sheet,`[data-input-otp]:autofill { ${E} }`),J(m.sheet,`[data-input-otp]:-webkit-autofill { ${E} }`),J(m.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),J(m.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let C=()=>{s&&s.style.setProperty("--root-height",`${o.clientHeight}px`)};C();let P=new ResizeObserver(C);return P.observe(o),()=>{document.removeEventListener("selectionchange",S,{capture:!0}),P.disconnect()}},[]);let[ue,pe]=r.useState(!1),[z,oe]=r.useState(!1),[F,Q]=r.useState(null),[G,V]=r.useState(null);r.useEffect(()=>{Ge(()=>{var o,s,S,C;(o=v.current)==null||o.dispatchEvent(new Event("input"));let P=(s=v.current)==null?void 0:s.selectionStart,m=(S=v.current)==null?void 0:S.selectionEnd,E=(C=v.current)==null?void 0:C.selectionDirection;P!==null&&m!==null&&(Q(P),V(m),Y.current.prev=[P,m,E])})},[u,z]),r.useEffect(()=>{A!==void 0&&u!==A&&A.length<a&&u.length===a&&w?.(u)},[a,w,A,u]);let K=Ve({containerRef:le,inputRef:v,pushPasswordManagerStrategy:g,isFocused:z}),de=r.useCallback(o=>{let s=o.currentTarget.value.slice(0,a);if(s.length>0&&T&&!T.test(s)){o.preventDefault();return}typeof A=="string"&&s.length<A.length&&document.dispatchEvent(new Event("selectionchange")),q(s)},[a,q,A,T]),me=r.useCallback(()=>{var o;if(v.current){let s=Math.min(v.current.value.length,a-1),S=v.current.value.length;(o=v.current)==null||o.setSelectionRange(s,S),Q(s),V(S)}oe(!0)},[a]),fe=r.useCallback(o=>{var s,S;let C=v.current;if(!p&&(!ae.current.isIOS||!o.clipboardData||!C))return;let P=o.clipboardData.getData("text/plain"),m=p?p(P):P;o.preventDefault();let E=(s=v.current)==null?void 0:s.selectionStart,ee=(S=v.current)==null?void 0:S.selectionEnd,k=(E!==ee?u.slice(0,E)+m+u.slice(ee):u.slice(0,E)+m+u.slice(E)).slice(0,a);if(k.length>0&&T&&!T.test(k))return;C.value=k,q(k);let W=Math.min(k.length,a-1),j=k.length;C.setSelectionRange(W,j),Q(W),V(j)},[a,q,T,u]),Ce=r.useMemo(()=>({position:"relative",cursor:c.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[c.disabled]),he=r.useMemo(()=>({position:"absolute",inset:0,width:K.willPushPWMBadge?`calc(100% + ${K.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:K.willPushPWMBadge?`inset(0 ${K.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:d,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[K.PWM_BADGE_SPACE_WIDTH,K.willPushPWMBadge,d]),Pe=r.useMemo(()=>r.createElement("input",Le($e({autoComplete:c.autoComplete||"one-time-code"},c),{"data-input-otp":!0,"data-input-otp-placeholder-shown":u.length===0||void 0,"data-input-otp-mss":F,"data-input-otp-mse":G,inputMode:_,pattern:T?.source,"aria-placeholder":h,style:he,maxLength:a,value:u,ref:v,onPaste:o=>{var s;fe(o),(s=c.onPaste)==null||s.call(c,o)},onChange:de,onMouseOver:o=>{var s;pe(!0),(s=c.onMouseOver)==null||s.call(c,o)},onMouseLeave:o=>{var s;pe(!1),(s=c.onMouseLeave)==null||s.call(c,o)},onFocus:o=>{var s;me(),(s=c.onFocus)==null||s.call(c,o)},onBlur:o=>{var s;oe(!1),(s=c.onBlur)==null||s.call(c,o)}})),[de,me,fe,_,he,a,G,F,c,T?.source,u]),se=r.useMemo(()=>({slots:Array.from({length:a}).map((o,s)=>{var S;let C=z&&F!==null&&G!==null&&(F===G&&s===F||s>=F&&s<G),P=u[s]!==void 0?u[s]:null,m=u[0]!==void 0?null:(S=h?.[s])!=null?S:null;return{char:P,placeholderChar:m,isActive:C,hasFakeCaret:C&&P===null}}),isFocused:z,isHovering:!c.disabled&&ue}),[z,ue,a,G,F,c.disabled,u]),_e=r.useMemo(()=>x?x(se):r.createElement(Ee.Provider,{value:se},M),[M,se,x]);return r.createElement(r.Fragment,null,y!==null&&r.createElement("noscript",null,r.createElement("style",null,y)),r.createElement("div",{ref:le,"data-input-otp-container":!0,style:Ce,className:b},_e,r.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Pe)))});xe.displayName="Input";function J(t,n){try{t.insertRule(n)}catch{console.error("input-otp could not insert CSS rule:",n)}}var Je=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,ot="^\\d+$";const Xe=r.forwardRef((t,n)=>{const e=X.c(13);let l,i,a;e[0]!==t?({className:l,containerClassName:i,...a}=t,e[0]=t,e[1]=l,e[2]=i,e[3]=a):(l=e[1],i=e[2],a=e[3]);let d;e[4]!==i?(d=te("flex items-center gap-2 has-[:disabled]:opacity-50",i),e[4]=i,e[5]=d):d=e[5];let f;e[6]!==l?(f=te("disabled:cursor-not-allowed",l),e[6]=l,e[7]=f):f=e[7];let h;return e[8]!==a||e[9]!==n||e[10]!==d||e[11]!==f?(h=L.jsx(xe,{ref:n,containerClassName:d,className:f,...a}),e[8]=a,e[9]=n,e[10]=d,e[11]=f,e[12]=h):h=e[12],h});Xe.displayName="InputOTP";const Ze=r.forwardRef((t,n)=>{const e=X.c(9);let l,i;e[0]!==t?({className:l,...i}=t,e[0]=t,e[1]=l,e[2]=i):(l=e[1],i=e[2]);let a;e[3]!==l?(a=te("flex items-center",l),e[3]=l,e[4]=a):a=e[4];let d;return e[5]!==i||e[6]!==n||e[7]!==a?(d=L.jsx("div",{ref:n,className:a,...i}),e[5]=i,e[6]=n,e[7]=a,e[8]=d):d=e[8],d});Ze.displayName="InputOTPGroup";const Ue=r.forwardRef((t,n)=>{const e=X.c(15);let l,i,a;e[0]!==t?({index:i,className:l,...a}=t,e[0]=t,e[1]=l,e[2]=i,e[3]=a):(l=e[1],i=e[2],a=e[3]);const d=r.useContext(Ee),{char:f,hasFakeCaret:h,isActive:_}=d.slots[i],w=_&&"z-10 ring-1 ring-ring";let g;e[4]!==l||e[5]!==w?(g=te("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",w,l),e[4]=l,e[5]=w,e[6]=g):g=e[6];let p;e[7]!==h?(p=h&&L.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:L.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})}),e[7]=h,e[8]=p):p=e[8];let b;return e[9]!==f||e[10]!==a||e[11]!==n||e[12]!==g||e[13]!==p?(b=L.jsxs("div",{ref:n,className:g,...a,children:[f,p]}),e[9]=f,e[10]=a,e[11]=n,e[12]=g,e[13]=p,e[14]=b):b=e[14],b});Ue.displayName="InputOTPSlot";const Ye=r.forwardRef((t,n)=>{const e=X.c(6);let l;e[0]!==t?({...l}=t,e[0]=t,e[1]=l):l=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=L.jsx(Ae,{}),e[2]=i):i=e[2];let a;return e[3]!==l||e[4]!==n?(a=L.jsx("div",{ref:n,role:"separator",...l,children:i}),e[3]=l,e[4]=n,e[5]=a):a=e[5],a});Ye.displayName="InputOTPSeparator";const st=6,ce=async t=>{const n=await fetch(t,{headers:{Accept:"application/json"}});if(!n.ok)throw new Error(`Failed to fetch: ${n.status}`);return n.json()},it=()=>{const t=X.c(14),[n,e]=r.useState(null),[l,i]=r.useState(null);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];const[d,f]=r.useState(a);let h;t[1]===Symbol.for("react.memo_cache_sentinel")?(h=[],t[1]=h):h=t[1];const[_,w]=r.useState(h),g=n!==null&&l!==null;let p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=async()=>{try{const{svg:u}=await ce(Oe.url());e(u)}catch{w(et),e(null)}},t[2]=p):p=t[2];const b=p;let y;t[3]===Symbol.for("react.memo_cache_sentinel")?(y=async()=>{try{const{secretKey:u}=await ce(De.url());i(u)}catch{w(tt),i(null)}},t[3]=y):y=t[3];const x=y;let M;t[4]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{w([])},t[4]=M):M=t[4];const c=M;let R;t[5]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{i(null),e(null),c()},t[5]=R):R=t[5];const Z=R;let I;t[6]===Symbol.for("react.memo_cache_sentinel")?(I=async()=>{try{c();const u=await ce(Ie.url());f(u)}catch{w(nt),f([])}},t[6]=I):I=t[6];const U=I;let N;t[7]===Symbol.for("react.memo_cache_sentinel")?(N=async()=>{try{c(),await Promise.all([b(),x()])}catch{e(null),i(null)}},t[7]=N):N=t[7];const re=N;let H;return t[8]!==_||t[9]!==g||t[10]!==l||t[11]!==n||t[12]!==d?(H={qrCodeSvg:n,manualSetupKey:l,recoveryCodesList:d,hasSetupData:g,errors:_,clearErrors:c,clearSetupData:Z,fetchQrCode:b,fetchSetupKey:x,fetchSetupData:re,fetchRecoveryCodes:U},t[8]=_,t[9]=g,t[10]=l,t[11]=n,t[12]=d,t[13]=H):H=t[13],H};function et(t){return[...t,"Failed to fetch QR code"]}function tt(t){return[...t,"Failed to fetch a setup key"]}function nt(t){return[...t,"Failed to fetch recovery codes"]}export{Xe as I,ot as K,st as O,Ze as a,Ue as b,it as u};
